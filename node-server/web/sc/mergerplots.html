<html>
<head>
<link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="css/pure-min.css">
<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/loading_spinner.css">
<link rel="stylesheet" href="css/stickynotes/minipage.css">
<!-- <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Sunshiney" /> -->
<!--<link  href="http://fonts.googleapis.com/css?family=Maven+Pro" rel="stylesheet" type="text/css">-->
<!--<link  href="http://fonts.googleapis.com/css?family=Reenie+Beanie:regular" rel="stylesheet" type="text/css">-->

<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="node_modules/highcharts/highcharts.js"></script>
<!--<script src="node_modules/highcharts/themes/dark-unica.js"></script>-->
<script src="dark-unica.js"></script>
<script src="js/loading_spinner.js"></script>
<script src="mergerplots.js"></script>
</head>
<body onLoad="bootstrap();">
  <table><tr><td width="60%" style="vertical-align:top;">
  <div class="pure-g">
    <div class="pure-u-1-1" style="margin-left:15px;margin-right:15px;margin-top:30px;margin-bottom:30px">
      <form class="pure-form" id="target" action="">
	<br><label for="runno">Run Number </label><input id="runno" name="runno"></input>
	<label for="stream">Stream </label><input id="stream" name="stream"></input>
        <br><br>
	<label for="minls">LS from </label><input id="minls" name="minls"></input>
	<label for="maxls">to </label><input id="maxls" name="maxls"></input>
	<label for="interval">interval </label><input id="interval" name="interval"></input>
	<label for="fullrun"></label><input type="checkbox" id="fullrun" name="fullrun"></input><label for="fullrun">full range</label>
	<br><br>
        <label for="setup">setup</label> 
	<select id="setup">
	  <option value="cdaq">cdaq</option>
	  <option value="minidaq">minidaq</option>
	  <option value="dv">dv</option>
	</select>
        <br><br><label for="xaxis">x-axis</label> 
	<select id="xaxis">
	  <option value="ls">lumisection</option>
	  <option value="size">total size</option>
	</select>
	<br><br><label for="yaxis">y-axis</label>
	<select id="yaxis">
	  <option value="diff">diff with previous stage</option>
	  <option value="lap">elapsed time from previous ls</option>
	</select>
	<br><br><label for="process">process</label>
	<select id="process">
	  <option value="merger">merger system</option>
	  <option value="transfer">transfer system</option>
	  <option value="BW">bandwidth</option>
	</select>
	<br><br><input type="submit" value="Plot">
      </form>

      
      <br><br>
      <table class="pure-table" id="plots" width="90%">
	<tr>
	  <td width="60%" id="plot0">
	  </td>
	</tr>
	<tr>
	  <td width="60%" id="plot1">
	  </td>
	</tr>
	<tr>
	  <td width="60%" id="plot2">
	  </td>
	<tr>
	<tr>
	  <td width="60%" id="plot3">
	  </td>
	<tr>
	<tr>
	  <td width="60%" id="plot4">
	  </td>
	<tr>
      </table>
      <br><button id="disable1" class="autocompare">Hide series</button>
    </div>
  </div>
<div class="pure-u-2-1" id="loading_dialog"></div>
</td><td width="40%" style="vertical-align:top;">
<div id="minipage" class="minipage">
  <ul>
    <li>
      <a href="#">
        <h2>Usage (1 of 3)</h2>
        <p>
	  <b>Just hit the "Plot" button for the current run (if there is one ongoing)</b><br>
	  ...or enter a run number below and then hit <b>Plot</b><br>
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>Usage(2 of 3)</h2>
        <p>
	  <b>You can select from the "process" tab whether to analyse the merger orthe transfer system</b>
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>Usage(3 of 3)</h2>
        <p>
	  If you chose the transfer system the "y-axis" selection becomes irrelevant (the copy time 
	  is always analysed)
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>Delay per BU</h2>
        <p>
	  To obtain a by-BU delay plot for a given <b>Stream</b> enter a stream name in the stream box
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>Negative DeltaT</h2>
        <p>It is possible that the time between a merger step and the following ends up being negative.
	This can happen for different reasons: 
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>River delay</h2>
        <p>The micromerge monitoring uses a river plugin to store completion. 
	  It is possible for the timestamp of the micromerge to come later than the others by a small amount
	</p>
      </a>
    </li>
    <li>
      <a href="#">
        <h2>Clock skew</h2>
        <p>The timestamp is generated from the machine local time, hence it is possible that negative time 
	  difference results from largish time skews across BUs and merger machines
	</p>
      </a>
    </li>
  </ul>
</div>
</tr></table>
</body>
</html>
